<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="shortcut icon" href="/img/eruty_logo2.png" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/aws-sdk/2.1298.0/aws-sdk.min.js"></script>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <title>ERUTY</title>
    <style>
      /* upload1 */

      .contents .upload-box {
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .contents .upload-box .drag-file {
        width: 100%;
        height: 360px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border: 3px dashed #dbdbdb;
      }
      .contents .upload-box .drag-file.highlight {
        border: 3px dashed rgb(36, 170, 225);
      }
      .contents .upload-box .drag-file .image {
        width: 100px;
      }
      .contents .upload-box .drag-file .message {
        margin-bottom: 0;
      }
      .contents .upload-box .file-label {
        margin-top: 30px;
        background-color: rgb(36, 170, 225);
        color: #fff;
        text-align: center;
        padding: 10px 0;
        width: 40%;
        border-radius: 6px;
        cursor: pointer;
      }
      .contents .upload-box .file {
        display: none;
      }
      /* upload2 */
      .outline {
        width: 100%;
        max-width: 1400px;
      }
      .flex_layout {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        margin: 0 auto;
        margin-top: 30px;
      }
      .olb {
        box-sizing: border-box;
      }

      .layout_left {
        width: 26%;
      }
      .layout_left .obj {
        width: 100%;
        height: 300px;
        border: 1px solid rgb(36, 170, 225);
        color: #fff;
      }

      .layout_center {
        width: 50%;
      }
      .center_line {
        border: 1px solid rgb(36, 170, 225);
      }
      .lc_flex {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
      }
      .d_img {
        width: 40%;
        margin: 2%;
        margin-left: 4%;
      }
      .mainImgClass {
        text-align: center;
        margin-top: 15%;
      }
      .d_img .domImg {
        width: 100%;
        object-fit: cover;
      }
      .d_centent {
        margin-top: 10px;
        width: 50%;
      }
      .d_centent ul {
        list-style: none;
        padding: 0;
      }
      .textarea ul {
        list-style: none;
        padding: 0;
      }
      .d_centent ul li {
        font-size: 12px;
      }
      .textarea ul li {
        font-size: 12px;
      }
      .d_centent ul li input {
        font-size: 14px;
        padding: 3px;
        display: block;
        width: 97%;
        border: 1px solid rgb(36, 170, 225);
        border-radius: 3px;
        margin: 0 0 10px;
      }
      .d_centent ul li .form-control .fieldError {
        font-size: 14px;
        padding: 3px;
        display: block;
        width: 97%;
        border: 1px solid #bd2130;
        border-radius: 3px;
        margin: 0 0 10px;
      }
      .textarea {
        width: 100%;
      }
      .textarea textarea {
        width: 96%;
        border: 1px solid rgb(36, 170, 225);

        height: 200px;
        margin: 2%;
      }

      .layout_right {
        width: 20%;
      }
      .right_line {
        border: 1px solid rgb(36, 170, 225);
        height: 200px;

        padding: 5px 2px;
      }
      .right_title {
        font-size: 14px;
        font-weight: bold;
      }
      .layout_right ul {
        list-style: none;
        padding: 0;
      }
      .layout_right ul li {
        padding: 2px 0;
        font-size: 12px;
        position: relative;
      }
      .layout_right ul li .radio_right {
        display: inline-block;
        position: absolute;
        top: 0;
        right: 0;
      }

      .btn_block {
        text-align: right;
        margin: 0 auto;
      }

      .btn_block .bt1 {
        color: rgb(36, 170, 225);
        border: 1px solid rgb(36, 170, 225);
        background-color: #fff;
        border-radius: 6px;
        width: 100%;
        margin-top: 5px;
      }

      .btn_block .bt1:hover {
        color: white;
        background: rgb(36, 170, 225);
      }
    </style>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div style="margin-top: 20px"></div>
    <h2 class="title" style="margin-top: 10px; text-align: center">
      File Upload
    </h2>
    <hr style="width: 90%; margin: 0 auto" />
    <form
      role="form"
      action="/items/upload"
      th:object="${itemForm}"
      method="post"
    >
      <div class="outline flex_layout">
        <div class="olb layout_left" id="leftContents">
          <div id="contentsClass" class="contents">
            <div class="upload-box">
              <div id="drop-file" class="drag-file">
                <img src="/img/logo.png" alt="이루티 로고" class="image" />
                <p class="message" style="text-align: center">
                  3D파일을 드래그 해주세요<span
                    style="
                      color: rgb(36, 170, 225);
                      font-size: 13px;
                      display: inline;
                    "
                  >
                    (.obj .fbx)</span
                  >
                  <br />
                  <!-- <span style="font-size: 15px"
                    >add textures at once time if you have
                  </span> -->
                </p>
              </div>
              <p
                style="color: red; text-align: right"
                th:if="${#fields.hasErrors('modelPath')}"
              >
                *3D 파일을 추가해주세요.
              </p>
              <label class="file-label" for="chooseFile">3D 업로드</label>
              <input
                class="file"
                id="chooseFile"
                name="3dFile"
                multiple
                type="file"
                accept=".obj, .fbx"
              />
            </div>
          </div>
          <!-- <canvas class="obj" id="server-3d">obj</canvas> -->
        </div>

        <div class="olb layout_center">
          <div class="center_line lc_flex">
            <div class="d_img">
              <input
                class="file"
                type="file"
                multiple
                accept=".png, .jpg, .jpeg"
                style="display: none"
                id="uploadImg"
              />
              <div class="mainImgClass" id="mainImg">
                <img
                  src="/img/logo.png"
                  alt="이루티 로고"
                  width="40%"
                  height="40%"
                  id="logoImg"
                />
              </div>

              <div id="titleImg" style="text-align: center; padding: 10px 0">
                <span style="font-size: 13px"> 이미지를 업로드 해주세요. </span
                ><br />
                <span style="color: rgb(36, 170, 225); font-size: 10px">
                  첫 번째로 선택한 이미지가 대표 이미지입니다</span
                >
              </div>

              <div id="errorImagePath">
                <p
                  style="color: red; text-align: right"
                  th:if="${#fields.hasErrors('imagePath')}"
                >
                  *상세 이미지를 추가해주세요
                </p>
              </div>
            </div>
            <div class="d_centent">
              <ul>
                <li>
                  디자인 명칭<input
                    type="text"
                    th:field="*{designName}"
                    class="form-control"
                    placeholder="디자인 이름을 입력하세요"
                    required
                    id="designName"
                  />
                  <div class="fieldError" th:errors="*{designName}"></div>
                </li>

                <li>
                  창작 연월일<input
                    type="date"
                    th:field="*{createdDate}"
                    class="form-control"
                    required
                    placeholder="창작연월일을 입력하세요"
                  />
                  <div class="fieldError" th:errors="*{createdDate}"></div>
                </li>
                <li>
                  창작자<input
                    type="text"
                    th:field="*{creator}"
                    class="form-control"
                    required
                    placeholder="창작자 이름을 입력하세요"
                  />
                  <div class="fieldError" th:errors="*{creator}"></div>
                </li>
                <li>
                  가격<input
                    type="number"
                    th:field="*{price}"
                    class="form-control"
                    required
                    placeholder="판매 가격을 입력하세요"
                  />
                  <div class="fieldError" th:errors="*{price}"></div>
                </li>
              </ul>
            </div>
            <div class="textarea">
              <ul>
                <li>
                  &nbsp;&nbsp;&nbsp;내용설명<textarea
                    type="text"
                    th:field="*{description}"
                    class="form-control"
                    required
                    placeholder="창작 내용을 입력하세요"
                  ></textarea>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="olb layout_right">
          <div class="right_line">
            <div class="right_title mb-3">저작권한설정</div>
            <div></div>
            <div class="form-check form-switch">
              출처 표시
              <input
                class="form-check-input"
                type="checkbox"
                th:field="*{origin}"
                name="isOrigin"
              />
            </div>
            <div class="form-check form-switch">
              상업적 이용 금지
              <input
                class="form-check-input"
                type="checkbox"
                th:field="*{canCommercialUse}"
                name="canCommercialUse"
              />
            </div>
            <div class="form-check form-switch">
              변경 금지
              <input
                class="form-check-input"
                type="checkbox"
                th:field="*{canModification}"
                name="canModification"
              />
            </div>
          </div>
          <div style="background-color: red; display: none">
            <input
              type="text"
              th:field="*{modelPath}"
              id="modelPath"
              value=""
              class="form-control"
            />
            <input
              type="text"
              th:field="*{imagePath}"
              id="imagePath"
              value=""
              class="form-control"
            />
          </div>
          <div class="btn_block">
            <button class="bt1" type="submit">아이템 업로드</button>
          </div>
        </div>
      </div>
    </form>

    <script src="/js/sha256.js"></script>
    <script>
      ///// 환경변수 설정 /////
      var albumBucketName = "eruty-s3";
      var bucketRegion = "ap-northeast-2";
      var IdentityPoolId =
        "ap-northeast-2:d98b565f-6372-4ae0-ad72-72a4873f4223";

      AWS.config.update({
        region: bucketRegion,
        credentials: new AWS.CognitoIdentityCredentials({
          IdentityPoolId: IdentityPoolId,
        }),
      });
      var s3 = new AWS.S3({
        apiVersion: "2006-03-01",
        params: { Bucket: albumBucketName },
      });
      let today = new Date();

      var hashing = SHA256(today);
      ///// 파일 선택한 경우 /////
      function ChooseFile(chooseFile) {
        let uploadFile = document.getElementById(chooseFile);
        function upload(e) {
          var extension3D = "";
          var src3D = "";
          var srcMtl = "";
          var files = document.getElementById(chooseFile).files;
          const filesLen = files.length;
          var tempFiles = "";
          for (var i = 0; i < filesLen; i++) {
            var file = files[i];
            var fileName = file.name;
            tempFiles += fileName + "*";
            var fileExtension = file.name.substr(
              file.name.lastIndexOf(".") + 1
            );

            var upload1 = encodeURIComponent("item") + "/" + hashing + "/";
            var saveKey = upload1 + fileName;

            var upload = new AWS.S3.ManagedUpload({
              params: {
                Bucket: albumBucketName,
                Key: saveKey,
                Body: file,
              },
            });
            var promise = upload.promise();
            if (fileExtension == "obj") {
              src3D =
                "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
                hashing +
                "/" +
                fileName;
              extension3D = "obj";
            }

            if (fileExtension == "fbx") {
              src3D =
                "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
                hashing +
                "/" +
                fileName;
              extension3D = "fbx";
            }
            if (fileExtension == "mtl") {
              srcMtl =
                "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
                hashing +
                "/" +
                fileName;
            }

            if (i == 0) {
              contentsClass.remove();
              var DOM_3d = document.createElement("canvas");
              DOM_3d.class = "obj";
              DOM_3d.id = "server-3d";
              var DOM_reset_div = document.createElement("div");
              DOM_reset_div.id = "resetDiv";
              DOM_reset_div.setAttribute("style", "text-align: center");
              var DOM_reset = document.createElement("LABEL");
              DOM_reset.id = "resetButton";
              DOM_reset.setAttribute("onclick", "resetBB();");
              DOM_reset.setAttribute(
                "style",
                "margin-top: 30px;background-color: rgb(36, 170, 225);color: #fff;text-align: center;padding: 10px 0;width: 40%;border-radius: 6px;cursor: pointer;"
              );
              DOM_reset.innerText = "reset";

              leftContents.appendChild(DOM_3d);
              leftContents.appendChild(DOM_reset_div);
              resetDiv.appendChild(DOM_reset);
            }
            if (i == filesLen - 1) {
              var model = document.getElementById("modelPath");
              model.value =
                "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
                hashing +
                "/*" +
                tempFiles;
              promise.then(
                function (data) {
                  alert("Successfully uploaded.");
                  return rendering(src3D, extension3D, srcMtl);
                },

                function (err) {
                  return alert("There was an error upload: ", err.message);
                }
              );
            }
          }
        }
        uploadFile.addEventListener("input", upload);
      }

      ///// 파일 드래그 한 경우 /////
      function DropFile(dropAreaId) {
        let dropArea = document.getElementById(dropAreaId);

        function preventDefaults(e) {
          e.preventDefault();
          e.stopPropagation();
        }
        function highlight(e) {
          preventDefaults(e);
          dropArea.classList.add("highlight");
        }
        function unhighlight(e) {
          preventDefaults(e);
          dropArea.classList.remove("highlight");
        }
        function handleDrop(e) {
          unhighlight(e);
          var files = e.dataTransfer?.files;
          var extension3D = "";
          var src3D = "";
          var srcMtl = "";
          const filesLen = files.length;
          var tempFiles = "";

          for (var i = 0; i < filesLen; i++) {
            var file = files[i];
            var fileName = file.name;
            tempFiles += fileName + "*";

            var fileExtension = file.name.substr(
              file.name.lastIndexOf(".") + 1
            );
            if ($.inArray(fileExtension, ["obj", "fbx"]) <= 0) {
              alert(
                '등록이 불가능한 파일 입니다.\n "obj", "fbx" 파일만 선택해주세요.'
              );
              break;
            }
            var upload1 = encodeURIComponent("item") + "/" + hashing + "/";
            var saveKey = upload1 + fileName;

            var upload = new AWS.S3.ManagedUpload({
              params: {
                Bucket: albumBucketName,
                Key: saveKey,
                Body: file,
              },
            });
            var promise = upload.promise();
            if (fileExtension == "obj") {
              src3D =
                "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
                hashing +
                "/" +
                fileName;
              extension3D = "obj";
            }

            if (fileExtension == "fbx") {
              src3D =
                "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
                hashing +
                "/" +
                fileName;
              extension3D = "fbx";
            }
            if (fileExtension == "mtl") {
              srcMtl =
                "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
                hashing +
                "/" +
                fileName;
            }

            if (i == 0) {
              contentsClass.remove();
              var DOM_3d = document.createElement("canvas");
              DOM_3d.class = "obj";
              DOM_3d.id = "server-3d";
              var DOM_reset_div = document.createElement("div");
              DOM_reset_div.id = "resetDiv";
              DOM_reset_div.setAttribute("style", "text-align: center");
              var DOM_reset = document.createElement("LABEL");
              DOM_reset.id = "resetButton";
              DOM_reset.setAttribute("onclick", "resetBB();");
              DOM_reset.setAttribute(
                "style",
                "margin-top: 30px;background-color: rgb(36, 170, 225);color: #fff;text-align: center;padding: 10px 0;width: 40%;border-radius: 6px;cursor: pointer;"
              );
              DOM_reset.innerText = "reset";

              leftContents.appendChild(DOM_3d);
              leftContents.appendChild(DOM_reset_div);
              resetDiv.appendChild(DOM_reset);
            }
            if (i == filesLen - 1) {
              var model = document.getElementById("modelPath");
              model.value =
                "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
                hashing +
                "/*" +
                tempFiles;
              promise.then(
                function (data) {
                  alert("Successfully uploaded.");
                  return rendering(src3D, extension3D, srcMtl);
                },

                function (err) {
                  return alert("There was an error upload: ", err.message);
                }
              );
            }
          }
        }

        dropArea.addEventListener("dragenter", highlight, false);
        dropArea.addEventListener("dragover", highlight, false);
        dropArea.addEventListener("dragleave", unhighlight, false);
        dropArea.addEventListener("drop", handleDrop, false);
      }
      const dropFile = new DropFile("drop-file");
      const chooseFile = new ChooseFile("chooseFile");

      ///// 대표이미지 추가 /////
      function handleClick() {
        console.log("click image");
        uploadImg.click();
      }
      var totalImage = 0;
      var tempImage = 0;
      function upload(e) {
        const files = e.target.files;
        const filesLen = files.length;
        totalImage += filesLen;
        var imageTempPath = "";

        for (i = tempImage; i < totalImage; i++) {
          var file = files[i - tempImage];
          var fileName = "file"; //file.name;
          var upload2 = encodeURIComponent("item") + "/" + hashing + "/";
          var saveKey = upload2 + fileName + i;
          var upload = new AWS.S3.ManagedUpload({
            params: {
              Bucket: albumBucketName,
              Key: saveKey,
              Body: file,
            },
          });
          if (i == 0) {
            var DOM_img = document.createElement("img");
            DOM_img.classList.add("domImg");
            DOM_img.src = URL.createObjectURL(files[0]);
            logoImg.remove();
            titleImg.remove();
            errorImagePath.remove();
            var DOM_add = document.createElement("LABEL");
            DOM_add.setAttribute("onclick", " uploadImg.click();");

            DOM_add.setAttribute(
              "style",
              "margin-top: 30px;background-color: rgb(36, 170, 225);color: #fff;text-align: center; width: 40%;border-radius: 6px;cursor: pointer;"
            );
            DOM_add.innerText = "add";
            mainImg.classList.remove("mainImgClass");
            mainImg.appendChild(DOM_img);
            mainImg.appendChild(DOM_add);
          }
          if (i == totalImage - 1) {
            imagePath.value =
              "https://eruty-s3.s3.ap-northeast-2.amazonaws.com/item/" +
              hashing +
              "*" +
              totalImage;
            tempImage = totalImage;
            alert("Successfully uploaded.");
          }
          var promise = upload.promise();
        }
      }

      titleImg.addEventListener("click", handleClick, false);
      uploadImg.addEventListener("input", upload);

      //rendering

      function rendering(fileName, extension, srcMtl) {
        const myCanvas = document.getElementById("server-3d");
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(
          75,
          myCanvas.width / myCanvas.height,
          0.1,
          1000
        );
        const renderer = new THREE.WebGLRenderer({
          canvas: myCanvas,
          alpha: true,
        });
        renderer.setSize(350, 200);

        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.rotateSpeed = 1.0; // 마우스로 카메라를 회전시킬 속도입니다. 기본값(Float)은 1입니다.
        controls.zoomSpeed = 1.2; // 마우스 휠로 카메라를 줌 시키는 속도 입니다. 기본값(Float)은 1입니다.
        controls.panSpeed = 0.8; // 패닝 속도 입니다. 기본값(Float)은 1입니다.
        controls.minDistance = 5; // 마우스 휠로 카메라 거리 조작시 최소 값. 기본값(Float)은 0 입니다.
        controls.maxDistance = 100; // 마우스 휠로 카메라 거리 조작시 최대 값. 기본값(Float)은 무제한 입니다.

        const object = new THREE.Object3D();
        // if (srcMtl != "") {
        //   const mtlLoader = new THREE.MTLLoader();
        //   mtlLoader.load(srcMtl, function (materials) {
        //     materials.preload();
        if (extension == "obj") {
          const loader = new THREE.OBJLoader();
          // loader.setMaterials(materials);

          loader.load(
            fileName,
            function (objectload) {
              //size 조절
              const { minX, maxX, minY, maxY, minZ, maxZ } =
                getBoundingBox(objectload);
              const width = maxX - minX;
              const height = maxY - minY;
              const depth = maxZ - minZ;
              const size = Math.max(width, height, depth);
              const center = new THREE.Vector3(
                (minX + maxX) / 1.75,
                (minY + maxY) / 1.75,
                (minZ + maxZ) / 1.75
              );
              camera.position.set(
                center.x + size / 1.75,
                center.y + size / 1.75,
                center.z + size / 1.75
              );
              camera.lookAt(center);
              camera.near = size / 100;
              camera.far = size * 100;
              camera.updateProjectionMatrix();

              //조명 추가
              shadowLight();

              //랜더링
              object.add(objectload);
              scene.add(object);
            },
            function (xhr) {
              console.log((xhr.loaded / xhr.total) * 100 + "% loaded");
            },
            function (error) {
              console.log(error);
              console.log("An error happened");
            }
          );
          animate();
        }
        if (extension == "fbx") {
          const loader = new THREE.FBXLoader();
          loader.load(
            fileName,
            function (objectload) {
              //size 조절
              var box = new THREE.Box3().setFromObject(objectload);
              var maxX = box.max.x;
              var desiredSize = 2.0;
              var scale = desiredSize / maxX;
              object.scale.set(scale, scale, scale);

              //조명 추가
              shadowLight();

              //랜더링
              object.add(objectload);
              scene.add(object);
            },
            function (xhr) {
              console.log((xhr.loaded / xhr.total) * 100 + "% loaded");
            },
            function (error) {
              console.log(error);
              console.log("An error happened");
            }
          );
          animate();
        }
        // });
        // }

        //회전동작
        function animate() {
          requestAnimationFrame(animate);
          // object.rotation.z -= 0.01;
          // object.rotation.y -= 0.01;
          renderer.render(scene, camera);
          controls.update();
        }

        //사이즈 크기
        function getBoundingBox(objectload) {
          var minX = Infinity,
            minY = Infinity,
            minZ = Infinity;
          var maxX = -Infinity,
            maxY = -Infinity,
            maxZ = -Infinity;

          for (let i = 0; i < objectload.children.length; i++) {
            objectload.children[i].geometry.computeBoundingSphere();
          }

          for (let i = 0; i < objectload.children.length; i++) {
            minX = Math.min(
              minX,
              objectload.children[i].geometry.boundingSphere.center.x
            );
            minY = Math.min(
              minY,
              objectload.children[i].geometry.boundingSphere.center.y
            );
            minZ = Math.min(
              minZ,
              objectload.children[i].geometry.boundingSphere.center.z
            );
            maxX = Math.max(
              maxX,
              objectload.children[i].geometry.boundingSphere.center.x
            );
            maxY = Math.max(
              maxY,
              objectload.children[i].geometry.boundingSphere.center.y
            );
            maxZ = Math.max(
              maxZ,
              objectload.children[i].geometry.boundingSphere.center.z
            );
          }
          return {
            minX,
            maxX,
            minY,
            maxY,
            minZ,
            maxZ,
          };
        }

        //조명 추가
        function shadowLight() {
          var hemiLight = new THREE.HemisphereLight(0xffffff, 0xffffff, 0.61);
          hemiLight.position.set(0, 50, 0);
          scene.add(hemiLight);

          var dirLight = new THREE.DirectionalLight(0xffffff, 0.54);
          dirLight.position.set(-8, 12, 8);
          dirLight.castShadow = true;
          dirLight.shadow.mapSize = new THREE.Vector2(1024, 1024);
          scene.add(dirLight);
        }
      }

      function resetBB() {
        if (!confirm("다른 3D모델을 선택하시려면 확인을 눌러주세요.")) {
        } else {
          location.reload();
        }
      }
    </script>
    <!-- tree.js-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"
      integrity="sha512-dLxUelApnYxpLt6K2iomGngnHO83iUvZytA3YjDUCjT0HDOHKXnVYdf3hU4JjM8uEhxf9nD1/ey98U3t2vZ0qQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/FBXLoader.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/MTLLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fflate@0.7.4/umd/index.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="http://code.jquery.com/jquery-latest.js"></script>

    <!-- bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
